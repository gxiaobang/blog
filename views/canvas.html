<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>

<canvas id="cvs" width="500" height="400"></canvas>

<script type="text/javascript">

function init() {
	var cvs = document.getElementById('cvs'),
		ctx = cvs.getContext('2d');

	// update( cvs, ctx, draw );
	drawGrid( cvs, ctx, 30, 30 );
}

function update( cvs, ctx, callback ) {

	function _draw() {
		ctx.clearRect( 0, 0, cvs.width, cvs.height );
		callback && callback(ctx);
	}
	_draw();

	setTimeout( _draw, 1000/60 );
}

function draw( ctx ) {
	ctx.save();
	ctx.beginPath();
	ctx.rect( 50, 50, 50, 50 );
	ctx.stroke();
	ctx.restore();
}

function drawGrid( cvs, ctx, width, height ) {
	// 宽高条数
	var count_x = cvs.width / width,	
		count_y = cvs.height / height,
		i;

	ctx.save();
	ctx.beginPath();
	// 纵向
	for( i = 0; i <= count_x; i++ ) {
		ctx.moveTo( i * width, 0 );
		ctx.lineTo( i * width, cvs.height );
	}
	// 横向
	for( i = 0; i <= count_x; i++ ) {
		ctx.moveTo( 0, i * height );
		ctx.lineTo( cvs.width, i * height );
	}
	ctx.stroke();
	ctx.restore();
}

window.onload = init;

/*$(function() {

	console.log( 'haha' );

});

for ( var i = 0; i < 30; i++ ) {
	console.log( '#c', 'haoooolll' );


	while ( i-- ) {
		if ( b > i ) {
			break;
		}
	}
}

window.onload = function() {
	if ( hello ) {
		console.log( 'haha' );
	}
	else {

	}

	try {
		// error
	}
	catch( ex ) {
		throw ex;
	} 
}


bbb( aa, bb, cc );*/


if( !Array.prototype.forEach ) {
	Array.prototype.forEach = function( fn ) {
		var i = 0,
			len = this.length,
			ret;
		
		while( i > len ) {
			ret = fn( this[i] );

			if( ret === false ) {
				break;
			}

			i++;
		}
	};
}

if( !Function.prototype.bind ) {
	Function.prototype.bind = function() {

	};
}


function TranColor() {
	
}

var imports = function( mods, callback ) {

};

imports(['jquery', 'fx'], function( require ) {
	var jQuery = require('jquery'),
		fx = require('fx');


});

</script>
</body>
</html>