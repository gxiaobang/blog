<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>表头固定</title>
</head>

<style type="text/css">
/*表格样式*/
.table-wrap {
	position: relative;
}
.table-scroll {
	overflow: auto;
	width: 400px; height: 300px;
	border: 1px solid #ccc;
}
.table-self {
	border-collapse: collapse;
	margin: -1px 0 0 -1px;
}
.table-self td {
	border: 1px solid #ccc;
	padding: 6px 20px;
	white-space: nowrap;
}
.table-self thead {
	background: white;
}
.table-fixed {
	position: absolute;
	left: 1px; top: 0;
}
.table-fixed {
	background: white;
	overflow: hidden;
}
.table-fixed .table-fixed-thead {
	
}
.table-fixed .table-fixed-thead span {
	display: inline-block;
	float: left;
	border: 1px solid #ccc; border-left: 0;
	padding: 6px 20px;
}

/* 左右分栏 */
.layout {
	margin: 20px;
}
.layout-left {
	float: left;
}
.layout-right {
	float: left;
	padding:20px;
}
</style>
<body>

<div>
	<div class="layout">
		<div class="layout-left">
			<div class="table-wrap">
				<div class="table-scroll">
					<table class="table-self">
						<thead>
							<tr>
								<td>序号</td>
								<td>姓名</td>
								<td>编号</td>
								<td>职位</td>
								<td>部门</td>
								<td>备注</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>01</td>
								<td>A</td>
								<td>0001</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>02</td>
								<td>B</td>
								<td>0002</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>03</td>
								<td>C</td>
								<td>0003</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>04</td>
								<td>D</td>
								<td>0004</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>05</td>
								<td>E</td>
								<td>0005</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>06</td>
								<td>F</td>
								<td>0006</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>07</td>
								<td>G</td>
								<td>0007</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr><tr>
								<td>08</td>
								<td>H</td>
								<td>0008</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>09</td>
								<td>I</td>
								<td>0009</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>10</td>
								<td>J</td>
								<td>0010</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>11</td>
								<td>K</td>
								<td>0011</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
							<tr>
								<td>12</td>
								<td>L</td>
								<td>0012</td>
								<td>工程师</td>
								<td>生产部</td>
								<td>勤劳、勇敢</td>
							</tr>
						</tbody>		
					</table>
				</div>
				<div class="table-fixed">
					<div class="table-fixed-thead">
						<span>序号</span>
						<span>姓名</span>
						<span>编号</span>
						<span>职位</span>
						<span>部门</span>
						<span>备注</span>
					</div>
				</div>
			</div>
		</div>
		<div class="layout-right">
			<h3>表头固定</h3>
			<p>
				兼容ie浏览器，滚动滚动条时，固定表头不会出现明显的闪动。
			</p>
		</div>
	</div>
</div>

</body>
</html>

<script type="text/javascript">
// 选择器
function $selector( node, context ) {
	return ( context || document ).querySelectorAll( node );
}
function init() {
	var tableWrap = $selector( '.table-wrap' )[0],
		tableScroll = $selector( '.table-scroll', tableWrap )[0],
		tableSelf = $selector( '.table-self', tableWrap )[0],
		tableFixed = $selector( '.table-fixed', tableWrap )[0],
		tableFixedSpans = $selector( 'span', tableFixed ),
		i = 0;

	function makeFixedBox() {
		// 设置fixed宽度
		tableFixed.style.width = tableScroll.clientWidth + 'px';
		tableFixed.children[0].style.width = tableScroll.scrollWidth + 10 + 'px';

		var cells = tableSelf.tHead.rows[0].cells;
		for( var i = 0; i < tableFixedSpans.length; i++ ) {
			tableFixedSpans[i].style.width = cells[i].offsetWidth - 41 + 'px';
		}
	}
	function scrollFixed() {
		tableFixed.children[0].style.marginLeft = -this.scrollLeft + 'px';
	}

	makeFixedBox();
	tableScroll.onscroll = scrollFixed;
}

window.onload = init;
</script>
